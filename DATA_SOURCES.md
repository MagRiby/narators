# Data Sources

This file tracks all external data used in the Hadith Explorer project.

---

## Hadith Text Data

| Field | Detail |
|-------|--------|
| **Name** | hadith-json by AhmedBaset |
| **Source** | https://github.com/AhmedBaset/hadith-json |
| **License** | MIT |
| **Format** | JSON (one file per book) |
| **Contents** | 50,884 hadiths across 9 books, scraped from Sunnah.com. Includes Arabic text, English translation, narrator field, chapter, and grade. |
| **Books** | Bukhari, Muslim, Abu Dawud, Tirmidhi, Nasai, Ibn Majah, Malik, Ahmad, Darimi |
| **Import script** | `scripts/import-hadiths.ts` |
| **Download** | Auto-downloaded by import script from GitHub raw URLs |

---

## Narrator Biographical Data

| Field | Detail |
|-------|--------|
| **Name** | kaggle_rawis.csv — muslimscholars.info mirror |
| **Source** | https://raw.githubusercontent.com/OmarShafie/hadith/master/data/kaggle_rawis.csv |
| **Upstream** | Kaggle: https://www.kaggle.com/datasets/fahd09/hadith-narrators (CC0 Public Domain) |
| **License** | CC0 Public Domain |
| **Format** | CSV |
| **Contents** | 24,325 narrators with English names, Arabic names (embedded in name field), reliability grade, birth/death years (Hijri + Gregorian), teacher/student relationship IDs |
| **Downloaded to** | `data/kaggle_rawis.csv` |

---

## Narrator Arabic Names & Ibn Hajar Grades

| Field | Detail |
|-------|--------|
| **Name** | rawi_data.csv — Ibn Hajar Taqrib al-Tahdhib |
| **Source** | https://raw.githubusercontent.com/OmarShafie/hadith/master/data/rawi_data.csv |
| **Repository** | https://github.com/OmarShafie/hadith (KHASHAF project) |
| **License** | Open (public repo, no explicit license) |
| **Format** | CSV |
| **Contents** | 18,511 narrators with full Arabic names, kunyah, Ibn Hajar reliability grade, al-Dhahabi grade, birth/death years (Hijri), generation (tabaqah), regions |
| **Used for** | Enriching reliability grades via first-word Arabic name matching |
| **Downloaded to** | `data/rawi_data.csv` |

---

## Isnad (Teacher–Student) Graph Edges

| Field | Detail |
|-------|--------|
| **Derived from** | `kaggle_rawis.csv` columns `teachers_inds` / `students_inds` |
| **Contents** | 47,750 directed teacher→student relationships between narrators |
| **Generated by** | `scripts/convert-narrator-data.js` |
| **Output file** | `data/isnad-edges.json` |

---

## Conversion & Import Pipeline

```
data/kaggle_rawis.csv  ─┐
                         ├─ scripts/convert-narrator-data.js ──► data/narrators.json
data/rawi_data.csv     ─┘                                    ──► data/isnad-edges.json
                                                                        │
                                                     scripts/import-narrators.ts
                                                                        │
                                                              DB: narrators table
                                                              DB: narrator_relationships table
                                                              DB: hadith_narrators table (name-match links)
```

---

## Re-downloading Data

To re-download the raw CSV files:

```bash
curl -L https://raw.githubusercontent.com/OmarShafie/hadith/master/data/kaggle_rawis.csv -o data/kaggle_rawis.csv
curl -L https://raw.githubusercontent.com/OmarShafie/hadith/master/data/rawi_data.csv    -o data/rawi_data.csv
```

Then regenerate and re-import:

```bash
node scripts/convert-narrator-data.js
npx ts-node scripts/import-narrators.ts
```
